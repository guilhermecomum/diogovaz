{"version":3,"sources":["webpack:///webpack/bootstrap 1cfb80d78fee8fa52a08","webpack:///./~/glitch-canvas/dist/glitch-canvas-browser.js","webpack:///./src/js/main.js"],"names":["canvas","document","createElement","context","getContext","aspectRatio","canvasH","canvasW","image","querySelector","currentImage","images","bagan","zabriskie","fundy","mandalay","pointreyes","unionsq","random","floor","ceiling","Math","clear","rect","fill","drawImage","width","height","glitch","i","x","y","spliceW","spliceH","save","scale","restore","glatch","glitchParams","seed","quality","amount","iterations","imageData","getImageData","fromImageData","toDataURL","then","dataURL","newImage","Image","onload","src","twitch","setTimeout","twatch","newImageName","Object","keys","length","console","log","body","style","backgroundColor","setDimensions","offsetWidth","parentNode","replaceChild","window","addEventListener"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA;AACA,CAAC,KAA4D;AAC7D;AACA;AACA,CAAC,qBAAqB;;AAEtB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG,cAAc;AACjB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;AACA,2BAA2B,6BAA6B,EAAE;AAC1D;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,+C;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B,SAAS,qBAAqB,UAAU,qBAAqB;;AAEvF;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1cfb80d78fee8fa52a08","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.glitch = factory());\n}(this, (function () { 'use strict';\n\nfunction clamp ( value, min, max ) {\n\treturn value < min ? min : value > max ? max : value;\n}\n\nfunction clone ( obj ) {\n\tvar result = false;\n\t\n\tif ( typeof obj !== 'undefined' ) {\n\t\ttry {\n\t\t\tresult = JSON.parse( JSON.stringify( obj ) );\n\t\t} catch ( e ) { }\n\t}\n\t\n\treturn result;\n}\n\nvar defaultParams = {\n    amount:     35,\n    iterations: 20,\n    quality:    30,\n\tseed:       25\n};\n\nfunction sanitizeInput ( params ) {\n\t\n\tparams = clone( params );\n\n\tif ( typeof params !== 'object' ) {\n\t\tparams = { };\n\t}\n\n\tObject\n\t\t.keys( defaultParams )\n\t\t.filter( function (key) { return key !== 'iterations'; } )\n\t\t.forEach( function (key) {\n\t\t\tif ( typeof params[key] !== 'number' || isNaN( params[key] ) ) {\n\t\t\t\tparams[key] = defaultParams[key];\n\t\t\t} else {\n\t\t\t\tparams[key] = clamp( params[key], 0, 100 );\n\t\t\t}\n\t\t\n\t\t\tparams[key] = Math.round( params[key] );\n\t\t} );\n\n\tif (\n\t\ttypeof params.iterations !== 'number' ||\n\t\tisNaN( params.iterations ) || params.iterations <= 0\n\t) {\n\t\tparams.iterations = defaultParams.iterations;\t\n\t}\n\n\tparams.iterations = Math.round( params.iterations );\n\n\treturn params;\n}\n\nvar Canvas$1 = function Canvas ( width, height ) {\n\tif ( width === void 0 ) width = 300;\n\tif ( height === void 0 ) height = 150;\n\t\n\tthis.canvasEl = document.createElement( 'canvas' );\n\tthis.canvasEl.width = width;\n\tthis.canvasEl.height = height;\n\tthis.ctx = this.canvasEl.getContext( '2d' );\n};\n\nvar prototypeAccessors = { width: { configurable: true },height: { configurable: true } };\n\nCanvas$1.prototype.getContext = function getContext () {\n\treturn this.ctx;\n};\n\nCanvas$1.prototype.toDataURL = function toDataURL ( type, encoderOptions, cb ) {\n\tif ( typeof cb === 'function' ) {\n\t\tcb( this.canvasEl.toDataURL( type, encoderOptions ) );\n\t} else {\n\t\treturn this.canvasEl.toDataURL( type, encoderOptions );\n\t}\n};\n\t\nprototypeAccessors.width.get = function () {\n\treturn this.canvasEl.width;\n};\n\t\nprototypeAccessors.width.set = function ( newWidth ) {\n\tthis.canvasEl.width = newWidth;\n};\n\nprototypeAccessors.height.get = function () {\n\treturn this.canvasEl.height;\n};\n\nprototypeAccessors.height.set = function ( newHeight ) {\n\tthis.canvasEl.height = newHeight;\n};\n\nObject.defineProperties( Canvas$1.prototype, prototypeAccessors );\n\nCanvas$1.Image = Image;\n\n// import Canvas from 'canvas';\n// import Canvas from './browser.js';\n\nfunction imageToImageData ( image ) {\n\tif ( image instanceof HTMLImageElement ) {\n\t\t// http://stackoverflow.com/a/3016076/229189\n\t\tif ( ! image.naturalWidth || ! image.naturalHeight || image.complete === false ) {\n\t\t\tthrow new Error( \"This this image hasn't finished loading: \" + image.src );\n\t\t}\n\n\t\tvar canvas = new Canvas$1( image.naturalWidth, image.naturalHeight );\n\t\tvar ctx = canvas.getContext( '2d' );\n\t\t\n\t\tctx.drawImage( image, 0, 0, canvas.width, canvas.height );\n\n\t\tvar imageData = ctx.getImageData( 0, 0, canvas.width, canvas.height );\n\n\t\tif ( imageData.data && imageData.data.length ) {\n\t\t\tif ( typeof imageData.width === 'undefined' ) {\n\t\t\t\timageData.width = image.naturalWidth;\n\t\t\t}\n\n\t\t\tif ( typeof imageData.height === 'undefined' ) {\n\t\t\t\timageData.height = image.naturalHeight;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn imageData;\n\t} else {\n\t\tthrow new Error( 'This object does not seem to be an image.' );\n\t\treturn;\n\t}\n}\n\nvar Image$2 = Canvas$1.Image;\n\nfunction loadBase64Image ( base64URL ) {\n\treturn new Promise( function ( resolve, reject ) {\n\t\tvar image = new Image$2();\n\t\t\n\t\timage.onload = function () {\n\t\t\tresolve( image );\n\t\t};\n\n\t\timage.onerror = function (err) {\n\t\t\treject( err );\n\t\t};\n\t\t\n\t\timage.src = base64URL;\n\t} );\n}\n\nfunction base64URLToImage ( base64URL, opts, resolve, reject ) {\n\tloadBase64Image( base64URL )\n\t\t.then( resolve, reject );\n}\n\nfunction getImageSize ( image ) {\n\treturn {\n\t\twidth: image.width || image.naturalWidth,\n\t\theight: image.height || image.naturalHeight\n\t};\n}\n\nfunction canvasFromImage ( image ) {\n\tvar size = getImageSize( image );\n\tvar canvas = new Canvas$1( size.width, size.height );\n\tvar ctx = canvas.getContext( '2d' );\n\t\n\tctx.drawImage( image, 0, 0, size.width, size.height );\n\t\t\n\treturn {\n\t\tcanvas: canvas,\n\t\tctx: ctx\n\t};\n}\n\nfunction base64URLToImageData ( base64URL, options, resolve, reject ) {\n\tloadBase64Image( base64URL )\n\t\t.then( function (image) {\n\t\t\tvar size = getImageSize( image );\n\t\t\tvar imageData = canvasFromImage( image )\n\t\t\t\t.ctx\n\t\t\t\t.getImageData( 0, 0, size.width, size.height );\n\t\t\t\n\t\t\tif ( ! imageData.width ) {\n\t\t\t\timageData.width = size.width;\n\t\t\t}\n\n\t\t\tif ( ! imageData.height ) {\n\t\t\t\timageData.height = size.height;\n\t\t\t}\n\n\t\t\tresolve( imageData );\n\t\t}, reject );\n}\n\nfunction isImageData ( imageData ) {\n\treturn (\n\t\timageData && \n\t\ttypeof imageData.width === 'number' &&\n\t\ttypeof imageData.height === 'number' &&\n\t\timageData.data &&\n\t\ttypeof imageData.data.length === 'number' &&\n\t\ttypeof imageData.data === 'object'\n\t);\n}\n\nfunction imageDataToBase64 ( imageData, quality ) {\n\treturn new Promise ( function ( resolve, reject ) {\n\t\tif ( isImageData( imageData ) ) {\n\t\t\tvar canvas = new Canvas$1( imageData.width, imageData.height );\n\t\t\tvar ctx = canvas.getContext( '2d' );\n\t\t\tctx.putImageData( imageData, 0, 0 );\n\n\t\t\tvar base64URL = canvas.toDataURL( 'image/jpeg', quality / 100 );\n\n\t\t\tresolve( base64URL );\n\t\t} else {\n\t\t\treject( new Error( 'object is not valid imageData' ) );\n\t\t}\n\t} );\n}\n\nvar base64Chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nvar base64Map = base64Chars.split( '' );\nbase64Map.forEach( function ( val, key ) {  } );\n\n// http://stackoverflow.com/a/10424014/229189\n\n// import objectAssign from 'object-assign'\nvar objectAssign = Object.assign;\n\n// constructing an object that allows for a chained interface.\n// for example stuff like:\n// \n// glitch( params )\n//     .toImage( img )\n//     .toImageData()\n// \n// etc...\n\nfunction glitch ( params ) {\n\tparams = sanitizeInput( params );\n\n\tvar inputFn;\n\tvar outputFn;\n\n\tvar worker = new Worker( URL.createObjectURL(new Blob([\"function isImageData ( imageData ) {\\n\\treturn (\\n\\t\\timageData && \\n\\t\\ttypeof imageData.width === 'number' &&\\n\\t\\ttypeof imageData.height === 'number' &&\\n\\t\\timageData.data &&\\n\\t\\ttypeof imageData.data.length === 'number' &&\\n\\t\\ttypeof imageData.data === 'object'\\n\\t);\\n}\\n\\nvar base64Chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\\nvar base64Map = base64Chars.split( '' );\\nvar reversedBase64Map$1 = { };\\n\\nbase64Map.forEach( function ( val, key ) { reversedBase64Map$1[val] = key; } );\\n\\nvar maps = {\\n\\tbase64Map: base64Map,\\n\\treversedBase64Map: reversedBase64Map$1\\n};\\n\\nvar reversedBase64Map = maps.reversedBase64Map;\\n\\n// https://github.com/mutaphysis/smackmyglitchupjs/blob/master/glitch.html\\n// base64 is 2^6, byte is 2^8, every 4 base64 values create three bytes\\nfunction base64ToByteArray ( base64URL ) {\\t\\n\\tvar result = [ ];\\n\\tvar prev;\\n\\n\\tfor ( var i = 23, len = base64URL.length; i < len; i++ ) {\\n\\t\\tvar currrentChar = reversedBase64Map[ base64URL.charAt( i ) ];\\n\\t\\tvar digitNum = ( i - 23 ) % 4;\\n\\n\\t\\tswitch ( digitNum ) {\\n\\t\\t\\t// case 0: first digit - do nothing, not enough info to work with\\n\\t\\t\\tcase 1: // second digit\\n\\t\\t\\t\\tresult.push( prev << 2 | currrentChar >> 4 );\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\n\\t\\t\\tcase 2: // third digit\\n\\t\\t\\t\\tresult.push( ( prev & 0x0f ) << 4 | currrentChar >> 2 );\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\n\\t\\t\\tcase 3: // fourth digit\\n\\t\\t\\t\\tresult.push( ( prev & 3 ) << 6 | currrentChar );\\n\\t\\t\\t\\tbreak;\\n\\t\\t}\\n\\n\\t\\tprev = currrentChar;\\n\\t}\\n\\n\\treturn result;\\n}\\n\\n// http://stackoverflow.com/a/10424014/229189\\n\\nfunction jpgHeaderLength ( byteArr ) {\\n\\tvar result = 417;\\n\\n\\tfor ( var i = 0, len = byteArr.length; i < len; i++ ) {\\n\\t\\tif ( byteArr[i] === 0xFF && byteArr[i + 1] === 0xDA ) {\\n\\t\\t\\tresult = i + 2;\\n\\t\\t\\tbreak;\\n\\t\\t}\\n\\t}\\n\\n\\treturn result;\\n}\\n\\nfunction glitchByteArray ( byteArray, seed, amount, iterationCount ) {\\n\\tvar headerLength = jpgHeaderLength( byteArray );\\n\\tvar maxIndex = byteArray.length - headerLength - 4;\\n\\n\\tvar amountPercent = amount / 100;\\n\\tvar seedPercent   = seed / 100;\\n\\n\\tfor ( var iterationIndex = 0; iterationIndex < iterationCount; iterationIndex++ ) {\\n\\t\\tvar minPixelIndex = ( maxIndex / iterationCount * iterationIndex ) | 0;\\n\\t\\tvar maxPixelIndex = ( maxIndex / iterationCount * ( iterationIndex + 1 ) ) | 0;\\n\\t\\t\\n\\t\\tvar delta = maxPixelIndex - minPixelIndex;\\n\\t\\tvar pixelIndex = ( minPixelIndex + delta * seedPercent ) | 0;\\n\\n\\t\\tif ( pixelIndex > maxIndex ) {\\n\\t\\t\\tpixelIndex = maxIndex;\\n\\t\\t}\\n\\n\\t\\tvar indexInByteArray = ~~( headerLength + pixelIndex );\\n\\n\\t\\tbyteArray[indexInByteArray] = ~~( amountPercent * 256 );\\n\\t}\\n\\n\\treturn byteArray;\\n}\\n\\nvar base64Map$1 = maps.base64Map;\\n\\nfunction byteArrayToBase64 ( byteArray ) {\\n\\tvar result = [ 'data:image/jpeg;base64,' ];\\n\\tvar byteNum;\\n\\tvar previousByte;\\n\\n\\tfor ( var i = 0, len = byteArray.length; i < len; i++ ) {\\n\\t\\tvar currentByte = byteArray[i];\\n\\t\\tbyteNum = i % 3;\\n\\n\\t\\tswitch ( byteNum ) {\\n\\t\\t\\tcase 0: // first byte\\n\\t\\t\\t\\tresult.push( base64Map$1[ currentByte >> 2 ] );\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase 1: // second byte\\n\\t\\t\\t\\tresult.push( base64Map$1[( previousByte & 3 ) << 4 | ( currentByte >> 4 )] );\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\tcase 2: // third byte\\n\\t\\t\\t\\tresult.push( base64Map$1[( previousByte & 0x0f ) << 2 | ( currentByte >> 6 )] );\\n\\t\\t\\t\\tresult.push( base64Map$1[currentByte & 0x3f] );\\n\\t\\t\\t\\tbreak;\\n\\t\\t}\\n\\n\\t\\tpreviousByte = currentByte;\\n\\t}\\n\\n\\tif ( byteNum === 0 ) {\\n\\t\\tresult.push( base64Map$1[( previousByte & 3 ) << 4] );\\n\\t\\tresult.push( '==' );\\n\\t} else {\\n\\t\\tif ( byteNum === 1 ) {\\n\\t\\t\\tresult.push( base64Map$1[( previousByte & 0x0f ) << 2] );\\n\\t\\t\\tresult.push( '=' );\\n\\t\\t}\\n\\t}\\n\\n\\treturn result.join( '' );\\n}\\n\\nfunction glitchImageData ( imageData, base64URL, params ) {\\n\\tif ( isImageData( imageData ) ) {\\n\\t\\tvar byteArray = base64ToByteArray( base64URL );\\n\\t\\tvar glitchedByteArray = glitchByteArray( byteArray, params.seed, params.amount, params.iterations );\\n\\t\\tvar glitchedBase64URL = byteArrayToBase64( glitchedByteArray );\\n\\t\\treturn glitchedBase64URL;\\n\\t} else {\\n\\t\\tthrow new Error( 'glitchImageData: imageData seems to be corrupt.' );\\n\\t\\treturn;\\n\\t}\\n}\\n\\nonmessage = function (msg) {\\n\\tvar imageData = msg.data.imageData;\\n\\tvar params = msg.data.params;\\n\\tvar base64URL = msg.data.base64URL;\\n\\n\\tif ( imageData && base64URL && params ) {\\n\\t\\ttry {\\n\\t\\t\\t// phantomjs seems to have some memory loss so we need to make sure\\n\\t\\t\\tif ( typeof imageData.width === 'undefined' && typeof msg.data.imageDataWidth === 'number' ) {\\n\\t\\t\\t\\timageData.width = msg.data.imageDataWidth;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( typeof imageData.height === 'undefined' && typeof msg.data.imageDataHeight === 'number' ) {\\n\\t\\t\\t\\timageData.height = msg.data.imageDataHeight;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar glitchedBase64URL = glitchImageData( imageData, base64URL, params );\\n\\t\\t\\tsuccess( glitchedBase64URL );\\n\\n\\t\\t} catch ( err ) {\\n\\t\\t\\tfail( err );\\n\\t\\t}\\n\\n\\t} else {\\n\\t\\tif ( msg.data.imageData ) {\\n\\t\\t\\tfail( 'Parameters are missing.' );\\n\\t\\t} else {\\n\\t\\t\\tfail( 'ImageData is missing.' );\\n\\t\\t}\\n\\t}\\n\\t\\n\\tself.close();\\n};\\n\\nfunction fail ( err ) {\\n\\tself.postMessage( { err: err.message || err } );\\n}\\n\\nfunction success ( base64URL ) {\\n\\tself.postMessage( { base64URL: base64URL } );\\n}\\n\"],{type:'text/javascript'})) );\n\t\n\tvar api = { getParams: getParams, getInput: getInput, getOutput: getOutput };\n\tvar inputMethods = { fromImageData: fromImageData, fromImage: fromImage };\n\tvar outputMethods = { toImage: toImage, toDataURL: toDataURL, toImageData: toImageData };\n\n\tfunction getParams () {\n\t\treturn params;\n\t}\n\n\tfunction getInput () {\n\t\tvar result = objectAssign( { }, api );\n\n\t\tif ( ! inputFn ) {\n\t\t\tobjectAssign( result, inputMethods );\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tfunction getOutput () {\n\t\tvar result = objectAssign( { }, api );\n\n\t\tif ( ! outputFn ) {\n\t\t\tobjectAssign( result, outputMethods );\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tfunction noTransform ( x ) { return x; }\n\n\tfunction fromImage ( inputOptions ) { return setInput( imageToImageData, inputOptions ); }\n\tfunction fromImageData ( inputOptions ) { return setInput( noTransform, inputOptions ); }\n\n\tfunction toDataURL ( outputOptions ) { return setOutput( noTransform ); }\n\tfunction toImage ( outputOptions ) { return setOutput( base64URLToImage, outputOptions, true ); }\n\tfunction toImageData ( outputOptions ) { return setOutput( base64URLToImageData, outputOptions, true ); }\n\n\tfunction setInput ( fn, inputOptions, canResolve ) {\t\t\n\t\tinputFn = function () {\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\t\t\t\tif ( canResolve ) {\n\t\t\t\t\tfn( inputOptions, resolve, reject );\n\t\t\t\t} else {\n\t\t\t\t\tif ( fn === noTransform ) {\n\t\t\t\t\t\tresolve( inputOptions );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresolve( fn( inputOptions, resolve, reject ) );\n\t\t\t\t\t\t} catch ( err ) {\n\t\t\t\t\t\t\treject( err );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n\n\t\tif ( isReady() ) {\n\t\t\treturn getResult();\n\t\t} else {\n\t\t\treturn getOutput();\n\t\t}\n\t}\n\n\tfunction setOutput ( fn, outputOptions, canResolve ) {\n\t\toutputFn = function (base64URL) {\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\t\t\t\tif ( canResolve ) {\n\t\t\t\t\tfn( base64URL, outputOptions, resolve, reject );\n\t\t\t\t} else {\n\t\t\t\t\tif ( fn === noTransform ) {\n\t\t\t\t\t\tresolve( base64URL );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfn( base64URL, outputOptions )\n\t\t\t\t\t\t\t.then( resolve, reject );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n\n\t\tif ( isReady() ) {\n\t\t\treturn getResult();\n\t\t} else {\n\t\t\treturn getInput();\n\t\t}\n\t}\n\n\tfunction isReady () {\n\t\treturn inputFn && outputFn;\n\t}\n\n\tfunction getResult () {\n\t\treturn new Promise( function ( resolve, reject ) {\n\t\t\tinputFn()\n\t\t\t\t.then( function (imageData) {\n\t\t\t\t\treturn glitch( imageData, params );\n\t\t\t\t}, reject )\n\t\t\t\t.then( function (base64URL) {\n\t\t\t\t\toutputFn( base64URL )\n\t\t\t\t\t\t.then( resolve, reject );\n\t\t\t\t}, reject );\n\t\t} );\n\t}\n\n\tfunction glitch ( imageData, params ) {\n\t\treturn new Promise( function ( resolve, reject ) {\n\t\t\timageDataToBase64( imageData, params.quality )\n\t\t\t\t.then( function (base64URL) {\n\t\t\t\t\treturn glitchInWorker( imageData, base64URL, params );\n\t\t\t\t}, reject )\n\t\t\t\t.then( resolve, reject );\n\t\t} );\n\t}\n\n\tfunction glitchInWorker ( imageData, base64URL, params ) {\n\t\treturn new Promise( function ( resolve, reject ) {\n\t\t\tworker.addEventListener( 'message', function (event) {\n\t\t\t\tif ( event.data && event.data.base64URL ) {\n\t\t\t\t\tresolve( event.data.base64URL );\n\t\t\t\t} else {\n\t\t\t\t\tif ( event.data && event.data.err ) {\n\t\t\t\t\t\treject( event.data.err );\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject( event );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tworker.postMessage( {\n\t\t\t\tparams: params,\n\t\t\t\tbase64URL: base64URL,\n\t\t\t\timageData: imageData,\n\n\t\t\t\t// phantomjs tends to forget about those two\n\t\t\t\t// so we send them separately\n\t\t\t\timageDataWidth: imageData.width,\n\t\t\t\timageDataHeight: imageData.height\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn getInput();\n}\n\nreturn glitch;\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/glitch-canvas/dist/glitch-canvas-browser.js\n// module id = 0\n// module chunks = 0","/* global window,document,Image */\n/* eslint no-use-before-define: [1, 'nofunc'] */\n\nimport glitchCanvas from 'glitch-canvas';\n\nconst canvas = document.createElement('canvas');\nconst context = canvas.getContext('2d');\nconst aspectRatio = 2000 / 820;\n\nlet canvasH;\nlet canvasW;\n\nlet image = document.querySelector('.glitch-image');\nlet currentImage = 0;\n\nconst images = {\n  bagan: '#fedcc3',\n  zabriskie: '#ffffee',\n  fundy: '#efe6e9',\n  mandalay: '#e4dadb',\n  pointreyes: '#ebeaef',\n  unionsq: '#f0f0f0',\n};\n\nfunction random(floor, ceiling) {\n  return Math.floor(Math.random() * (ceiling - floor)) + floor;\n}\n\nfunction clear() {\n  context.rect(0, 0, canvasW, canvasH);\n  context.fill();\n  context.drawImage(image, 0, 0, image.width, image.height, 0, 0, canvasW, canvasH);\n}\n\n// glitmage by Miguel Mota\n// https://github.com/miguelmota/glitmage\n// MIT License\nfunction glitch() {\n  let i = 0;\n\n  for (i = 0; i < random(1, 4); i += 1) {\n    const x = Math.random() * canvasW;\n    const y = Math.random() * canvasH;\n    const spliceW = canvasW - x;\n    const spliceH = canvasH / random(2, 10);\n\n    context.save();\n    context.scale(-1, 1);\n    context.drawImage(canvas, 0, y, canvasW, spliceH, 0, y, canvasW * -1, spliceH);\n    context.restore();\n    context.drawImage(canvas, 0, y, spliceW, spliceH, x, spliceH, spliceW, spliceH);\n  }\n}\n\n// glitch another way with glitch-canvas\nfunction glatch() {\n  const glitchParams = {\n    seed: random(0, 50),\n    quality: random(0, 50),\n    amount: random(0, 50),\n    iterations: random(0, 20),\n  };\n  const imageData = context.getImageData(0, 0, canvasW, canvasH);\n\n  glitchCanvas(glitchParams)\n    .fromImageData(imageData)\n    .toDataURL()\n    .then((dataURL) => {\n      const newImage = new Image();\n\n      newImage.onload = () => {\n        context.drawImage(newImage, 0, 0);\n      };\n      newImage.src = dataURL;\n    });\n}\n\n// Pseudo-randomize a series of glitches.\nfunction twitch() {\n  setTimeout(glitch, random(0, 500));\n  setTimeout(glitch, random(501, 700));\n  setTimeout(glitch, random(701, 1100));\n  setTimeout(clear, random(1101, 1200));\n\n  setTimeout(glatch, random(1201, 1300));\n  setTimeout(glatch, random(1301, 1800));\n  setTimeout(glatch, random(1801, 2800));\n  setTimeout(clear, random(2801, 3000));\n\n  setTimeout(glitch, random(3001, 3500));\n  setTimeout(glitch, random(3501, 3700));\n  setTimeout(glitch, random(3701, 4200));\n\n  setTimeout(clear, random(4201, 6000));\n\n  // Switch out image.\n  setTimeout(twatch, random(6001, 6200));\n}\n\nfunction twatch() {\n  currentImage += 1;\n\n  const newImage = new Image();\n  const newImageName = Object.keys(images)[currentImage % Object.keys(images).length];\n  \n  newImage.src = `/assets/images/${newImageName}.jpg`;\n  console.log(newImage)\n  newImage.onload = () => {\n    image = newImage;\n    document.body.style.backgroundColor = images[newImageName];\n\n    clear();\n    setTimeout(twitch, random(0, 1000));\n  };\n}\n\nfunction setDimensions() {\n  canvas.height = canvasH = document.body.offsetWidth / aspectRatio;\n  canvas.width = canvasW = document.body.offsetWidth;\n}\n\nimage.onload = () => {\n  setDimensions();\n\n  // Replace image with canvas.\n  image.parentNode.replaceChild(canvas, image);\n  clear();\n\n  // Start twitching after a delay.\n  setTimeout(twitch, random(1000, 3000));\n};\n\nwindow.addEventListener('resize', setDimensions);\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js"],"sourceRoot":""}